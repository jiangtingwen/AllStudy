<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>talk in js-代理模式</title>
</head>
<body>
    <script>
        // object对象
        //const常量
        //描述的方式，对象是怎样的就出来
        // 对象字面量 JSON Object
    const xsj={
            name:'徐世杰',
            age:22,
            single:true,
            hometown:'绍兴',
            room:1319,
            yz:46,
            // 上面的都是属性
            // ------------------------------------------------
            // 函数功能 行为
            // target形参
            sendFlower:function(target){
                
                // console.log(target.name);
                target.receiverFlower(xsj);
            }
    };
    const meimei={
        name:'梅梅',
        age:17,
        mood:85,
        receiverFlower:function(sender){
            // 如果心情指数大于80 收花，否则拒绝 
            // if/else
            // if(sender.yz<85){
            //     console.log('没空,不可能有空')     
            //            }else{
            //                console.log('备胎排队一下');
            //            }
            console.log('收到了花');

        },
        listenGoodMood:function() {
            //心情不好
            // 定时器
            // console.log('本公主谁都不想见');
            setTimeout(function(){
                // console.log('本公主心情变好了');
                // meimei.receiverFlower();
                if(meimei.mood>86){
                    meimei.receiverFlower();
                }else{
                    console.log('滚');
                }


            },3000);


    }
   
    }
    // 送花A->B   A->C->B
    // A 送花 send_flower
    // C 收花 转送给B
    // B 收花 receiver_flower  
    const huahua={
        name:'花花',
        // 与梅梅实现了同样的接口
        receiverFlower:function(sender){
            // 心情好，再送
            //    meimei.receiverFlower(sender);
            // 代理者，监听下meimei的心情
            meimei.listenGoodMood(function(){

            })  

        }

    }
    
    </script>
</body>
</html>